/**
 * ||========================================================================================================================||
 * ||                                                                                                                        ||
 * ||  ________  _______   ________  _________  ___  ___  ________  ________  ___  ___  ________  ________  ________         ||
 * || |\   ___ \|\  ___ \ |\   __  \|\___   ___\\  \|\  \|\   __  \|\   __  \|\  \|\  \|\   __  \|\   __  \|\   ___  \       ||
 * ||  \ \  \_|\ \ \   __/|\ \  \|\  \|___ \  \_\ \  \\\  \ \  \|\  \ \  \|\  \ \  \\\  \ \  \|\ /\ \  \|\  \ \  \\ \  \     ||
 * ||   \ \  \ \\ \ \  \_|/_\ \   __  \   \ \  \ \ \   __  \ \   __  \ \   _  _\ \  \\\  \ \   __  \ \   __  \ \  \\ \  \    ||
 * ||    \ \  \_\\ \ \  \_|\ \ \  \ \  \   \ \  \ \ \  \ \  \ \  \ \  \ \  \\  \\ \  \\\  \ \  \|\  \ \  \ \  \ \  \\ \  \   ||
 * ||     \ \_______\ \_______\ \__\ \__\   \ \__\ \ \__\ \__\ \__\ \__\ \__\\ _\\ \_______\ \_______\ \__\ \__\ \__\\ \__\  ||
 * ||      \|_______|\|_______|\|__|\|__|    \|__|  \|__|\|__|\|__|\|__|\|__|\|__|\|_______|\|_______|\|__|\|__|\|__| \|__|  ||
 * ||                                                                                                                        ||
 * ||========================================================================================================================||
 * ||                                                                                                                        ||  
 * ||                                               ★ Please do not modify this code ★                                      ||  
 * ||                                   ► This Mod was created for Minecraft Bedrock Edition ◄                               || 
 * ||                                                                                                                        ||
 * ||========================================================================================================================||
 */

/**
* @made_by Death_Aruban
* @version [1.0.5]
* @link [https://discord.com/invite/NKy9A9RAe8]
*/

(function(_0x2ddeca,_0x396332){const _0x5536d0=AruCube_Death_Aruban_0x137e,_0x4918fa=_0x2ddeca();while(!![]){try{const _0x1de636=-parseInt(_0x5536d0(0xaf))/0x1+-parseInt(_0x5536d0(0xa1))/0x2*(parseInt(_0x5536d0(0x9e))/0x3)+-parseInt(_0x5536d0(0xc3))/0x4+-parseInt(_0x5536d0(0xb4))/0x5+parseInt(_0x5536d0(0xce))/0x6*(-parseInt(_0x5536d0(0xa7))/0x7)+parseInt(_0x5536d0(0xbd))/0x8*(parseInt(_0x5536d0(0x99))/0x9)+parseInt(_0x5536d0(0xa2))/0xa;if(_0x1de636===_0x396332)break;else _0x4918fa['push'](_0x4918fa['shift']());}catch(_0x443971){_0x4918fa['push'](_0x4918fa['shift']());}}}(AruCube_Death_Aruban_0x2119,0x45864));function AruCube_Death_Aruban_0x137e(_0x4668cf,_0x34bae9){const _0x2119fe=AruCube_Death_Aruban_0x2119();return AruCube_Death_Aruban_0x137e=function(_0x137e50,_0x3383d0){_0x137e50=_0x137e50-0x91;let _0xf2e86d=_0x2119fe[_0x137e50];return _0xf2e86d;},AruCube_Death_Aruban_0x137e(_0x4668cf,_0x34bae9);}import{ActionFormData}from'@minecraft/server-ui';function AruCube_Death_Aruban_0x2119(){const _0x55339d=['charAt','minecraft:inventory','\x0aNone','\x0aEnchant:\x20','pop','Name:\x20','unknown_icon','item','§cDisenchant§b\x0a§fClicking\x20this\x20button\x20will\x20take\x20you\x20to\x20a\x20\x0ascreen\x20where\x20you\x20can\x20remove\x20\x0aenchantments\x20from\x20your\x20previously\x20selected\x20item.','button','toUpperCase','getLore','name','458991aGvQbZ','map','slice','arucube.enchant.home_select_info','arucube.enchant.home_select','2091vJABJm','No\x20description','getComponent','14gIGaax','9492300nqxrRr','container','body','amount',':\x20§a','49pVDeFQ','score_name','nameTag','scores','items','componentId','show','\x0aSlot:\x20','380222TSHhZn','then','typeId','\x0a§dEnchantments:§f\x20','join','2649630AlmCQi','\x0a§aDescription:§f\x20\x0a','size','scoreboard','\x0a§aName:§f\x20\x0a','\x0a§8','getItem','type','\x0a-\x20','72DijwqX','length','title','sendMessage','§dEnchant§b\x0a§fClicking\x20this\x20button\x20will\x20take\x20you\x20to\x20a\x20\x0ascreen\x20where\x20you\x20can\x20enchant\x20your\x20\x0apreviously\x20selected\x20item.','\x0a§aSlot:§f\x20','765284bcguDt','getObjective','\x20:\x20§a','index','state','vanilla_icon','§bPlayer\x20:\x20§a','hasOwnProperty','split','\x20§8>>\x20§cNo\x20enchantable\x20items\x20to\x20display!','push','14658bPHQDc','getEnchantments'];AruCube_Death_Aruban_0x2119=function(){return _0x55339d;};return AruCube_Death_Aruban_0x2119();}import{ItemEnchantableComponent,EnchantmentTypes,world}from'@minecraft/server';import{prepareEnchantments}from'./logic/enchant';import{prepareDisenchantments}from'./logic/disenchant';import{item_texture_list,see_xp}from'./item_list';import{prepareEnchantmentTransfer}from'./logic/transfer';import{config}from'../config';export function enchant_interact(_0x4d59e2){const _0x5ded9c=AruCube_Death_Aruban_0x137e,_0x1f2e3a=_0x4d59e2[_0x5ded9c(0xa0)]('minecraft:inventory')[_0x5ded9c(0xa3)];if(!_0x1f2e3a)return;const _0x3a75fa=[];for(let _0x40a290=0x0;_0x40a290<_0x1f2e3a[_0x5ded9c(0xb6)];_0x40a290++){const _0x7343b7=_0x1f2e3a[_0x5ded9c(0xba)](_0x40a290);if(!_0x7343b7)continue;const _0x2c3c57=getComponent(_0x7343b7,ItemEnchantableComponent[_0x5ded9c(0xac)]);_0x2c3c57&&_0x3a75fa[_0x5ded9c(0xcd)]({'item':_0x7343b7,'index':_0x40a290});}if(_0x3a75fa[_0x5ded9c(0xbe)]===0x0){_0x4d59e2[_0x5ded9c(0xc0)](_0x5ded9c(0xcc));return;}const _0x251fdf=new ActionFormData();_0x251fdf['title'](_0x5ded9c(0x9d)),_0x251fdf[_0x5ded9c(0xa4)]('§fList\x20of\x20Enchantable\x20Items:§a\x20'+_0x3a75fa[_0x5ded9c(0xbe)]+_0x5ded9c(0xb9));if(config[_0x5ded9c(0xaa)][_0x5ded9c(0xc7)]||config['items'][_0x5ded9c(0xc7)]||config['xp']['state']){let _0x52b95f='';if(config[_0x5ded9c(0xaa)][_0x5ded9c(0xc7)]){const _0x296d71=getScore(_0x4d59e2,config[_0x5ded9c(0xaa)][_0x5ded9c(0xa8)]);_0x52b95f+='§b'+config[_0x5ded9c(0xaa)]['name']+_0x5ded9c(0xc5)+_0x296d71+'\x0a';}if(config[_0x5ded9c(0xab)][_0x5ded9c(0xc7)]){const _0xad140c=getItemCount(_0x1f2e3a,config['items']['id']);_0x52b95f+='§b'+config[_0x5ded9c(0xab)][_0x5ded9c(0x98)]+_0x5ded9c(0xc5)+_0xad140c+'\x0a';}if(config['xp'][_0x5ded9c(0xc7)]){const _0x688eb8=see_xp(_0x4d59e2);_0x52b95f+='§b'+config['xp']['name']+_0x5ded9c(0xc5)+_0x688eb8+'\x0a';}_0x52b95f+=_0x5ded9c(0xc9)+_0x4d59e2[_0x5ded9c(0x98)],_0x251fdf[_0x5ded9c(0x95)](''+_0x52b95f);}for(let _0x5ce849=0x0;_0x5ce849<_0x3a75fa['length'];_0x5ce849++){const {item:_0x45eed1,index:_0xfd769}=_0x3a75fa[_0x5ce849],_0x5263b0=_0x45eed1[_0x5ded9c(0xa9)]??translateItemName(_0x45eed1[_0x5ded9c(0xb1)]),_0x39640b=getItemIcon(_0x45eed1),_0xbeb970=_0x45eed1['getComponent'](ItemEnchantableComponent[_0x5ded9c(0xac)])?.['getEnchantments']()['length']||0x0;_0x251fdf[_0x5ded9c(0x95)](_0x5ded9c(0x91)+_0x5263b0+_0x5ded9c(0xae)+_0xfd769+_0x5ded9c(0xd3)+_0xbeb970,_0x39640b);}_0x251fdf['show'](_0x4d59e2)['then'](({selection:_0xeb2e13,canceled:_0x412f5e})=>{if(_0x412f5e)return;if(_0xeb2e13===0x0){}else{const _0x41587f=_0x3a75fa[_0xeb2e13-0x1];if(!_0x41587f)return;showSecondForm(_0x4d59e2,_0x41587f,_0x3a75fa);}});}function showSecondForm(_0x2416f4,_0x4d1452,_0x430727){const _0xaebf3b=AruCube_Death_Aruban_0x137e,_0x10ddf4=new ActionFormData();_0x10ddf4[_0xaebf3b(0xbf)](_0xaebf3b(0x9c)),_0x10ddf4[_0xaebf3b(0xa4)]('§fList\x20of\x20Enchantable\x20Items:§a\x20'+_0x430727[_0xaebf3b(0xbe)]+_0xaebf3b(0xb9));let _0x11a549='';if(config[_0xaebf3b(0xaa)][_0xaebf3b(0xc7)]){const _0xbb6a3f=getScore(_0x2416f4,config[_0xaebf3b(0xaa)][_0xaebf3b(0xa8)]);_0x11a549+='§b'+config[_0xaebf3b(0xaa)][_0xaebf3b(0x98)]+_0xaebf3b(0xc5)+_0xbb6a3f+'\x0a';}if(config[_0xaebf3b(0xab)][_0xaebf3b(0xc7)]){const _0x54173f=getItemCount(_0x2416f4['getComponent'](_0xaebf3b(0xd1))[_0xaebf3b(0xa3)],config[_0xaebf3b(0xab)]['id']);_0x11a549+='§b'+config['items']['name']+_0xaebf3b(0xc5)+_0x54173f+'\x0a';}if(config['xp'][_0xaebf3b(0xc7)]){const _0xa9ac04=see_xp(_0x2416f4);_0x11a549+='§b'+config['xp'][_0xaebf3b(0x98)]+'\x20:\x20§a'+_0xa9ac04+'\x0a';}_0x11a549+=_0xaebf3b(0xc9)+_0x2416f4[_0xaebf3b(0x98)],_0x10ddf4[_0xaebf3b(0x95)](''+_0x11a549),_0x10ddf4[_0xaebf3b(0x95)](_0xaebf3b(0xc1)),_0x10ddf4[_0xaebf3b(0x95)](_0xaebf3b(0x94)),_0x10ddf4[_0xaebf3b(0x95)]('§6Transfer§b\x0a§fClicking\x20this\x20button\x20will\x20take\x20you\x20to\x20a\x20\x0ascreen\x20where\x20you\x20can\x20transfer\x20\x0aenchantments\x20from\x20your\x20previously\x20selected\x20item\x20to\x20another\x20item.');const _0x58ac8f=_0x4d1452[_0xaebf3b(0x93)]['nameTag']??translateItemName(_0x4d1452['item'][_0xaebf3b(0xb1)]),_0x174b15=_0x4d1452[_0xaebf3b(0x93)][_0xaebf3b(0x97)]()[_0xaebf3b(0xb3)]('\x0a')||_0xaebf3b(0x9f),_0x1d6be3=_0x4d1452['index'],_0x4732ce=getComponent(_0x4d1452[_0xaebf3b(0x93)],ItemEnchantableComponent[_0xaebf3b(0xac)]),_0x13b92f=_0x4732ce?_0x4732ce[_0xaebf3b(0xcf)]():[];let _0x41716a=_0x13b92f[_0xaebf3b(0xbe)]>0x0?_0x13b92f[_0xaebf3b(0x9a)](_0x6bc186=>_0xaebf3b(0xbc)+translateEnchantmentName(_0x6bc186[_0xaebf3b(0xbb)]['id'])+_0xaebf3b(0xa6)+_0x6bc186['level']+'§f')[_0xaebf3b(0xb3)](''):_0xaebf3b(0xd2);const _0x5c2ce9=getItemIcon(_0x4d1452[_0xaebf3b(0x93)]);_0x10ddf4[_0xaebf3b(0x95)](_0xaebf3b(0xb8)+_0x58ac8f+_0xaebf3b(0xb5)+_0x174b15+_0xaebf3b(0xc2)+_0x1d6be3+_0xaebf3b(0xb2)+_0x41716a,_0x5c2ce9);const _0x35780d={};let _0x51e8bb=0x5;for(let _0x589073=0x0;_0x589073<_0x430727[_0xaebf3b(0xbe)];_0x589073++){const {item:_0x29d6fc,index:_0x2ae4cb}=_0x430727[_0x589073];if(_0x2ae4cb!==_0x4d1452['index']){const _0xe69f3e=_0x29d6fc[_0xaebf3b(0xa9)]??translateItemName(_0x29d6fc[_0xaebf3b(0xb1)]),_0x19f0eb=getItemIcon(_0x29d6fc),_0xd56a64=_0x29d6fc[_0xaebf3b(0xa0)](ItemEnchantableComponent[_0xaebf3b(0xac)])?.[_0xaebf3b(0xcf)]()['length']||0x0;_0x10ddf4['button'](_0xaebf3b(0x91)+_0xe69f3e+_0xaebf3b(0xae)+_0x2ae4cb+_0xaebf3b(0xd3)+_0xd56a64,_0x19f0eb),_0x35780d[_0x51e8bb]=_0x430727[_0x589073],_0x51e8bb++;}}_0x10ddf4[_0xaebf3b(0xad)](_0x2416f4)[_0xaebf3b(0xb0)](({selection:_0x20ee69,canceled:_0x3d6bbf})=>{const _0x19cac2=_0xaebf3b;if(_0x3d6bbf)return;if(_0x20ee69===0x1)prepareEnchantments(_0x2416f4,_0x4d1452[_0x19cac2(0x93)],_0x4d1452[_0x19cac2(0xc6)]);else{if(_0x20ee69===0x2)prepareDisenchantments(_0x2416f4,_0x4d1452[_0x19cac2(0x93)],_0x4d1452[_0x19cac2(0xc6)]);else{if(_0x20ee69===0x3)prepareEnchantmentTransfer(_0x2416f4,_0x4d1452[_0x19cac2(0x93)],_0x4d1452['index']);else{if(_0x35780d[_0x19cac2(0xca)](_0x20ee69)){const _0x1f8522=_0x35780d[_0x20ee69];showSecondForm(_0x2416f4,_0x1f8522,_0x430727);}}}}});}function translateEnchantmentName(_0x5c6212){const _0x28adf0=AruCube_Death_Aruban_0x137e;return _0x5c6212[_0x28adf0(0xcb)]('_')[_0x28adf0(0x9a)](_0x31340a=>_0x31340a['charAt'](0x0)[_0x28adf0(0x96)]()+_0x31340a[_0x28adf0(0x9b)](0x1))[_0x28adf0(0xb3)]('\x20');}export function translateItemName(_0x40ae62){const _0x4ee876=AruCube_Death_Aruban_0x137e;return _0x40ae62['split'](':')[_0x4ee876(0xd4)]()['replace'](/_/g,'\x20')[_0x4ee876(0xcb)]('\x20')[_0x4ee876(0x9a)](_0x537726=>_0x537726[_0x4ee876(0xd0)](0x0)[_0x4ee876(0x96)]()+_0x537726[_0x4ee876(0x9b)](0x1))[_0x4ee876(0xb3)]('\x20');}export function getScore(_0x5ecd12,_0x4f950c){const _0x4e7ada=AruCube_Death_Aruban_0x137e,_0x5e3f6f=world[_0x4e7ada(0xb7)][_0x4e7ada(0xc4)](_0x4f950c);return _0x5e3f6f['getScore'](_0x5ecd12)??0x0;}export function getItemCount(_0x13b37a,_0x36aa0e){const _0x1b6428=AruCube_Death_Aruban_0x137e;let _0x565fd6=0x0;for(let _0x3cff5c=0x0;_0x3cff5c<_0x13b37a['size'];_0x3cff5c++){const _0x18aeba=_0x13b37a[_0x1b6428(0xba)](_0x3cff5c);_0x18aeba&&_0x18aeba['typeId']===_0x36aa0e&&(_0x565fd6+=_0x18aeba[_0x1b6428(0xa5)]);}return _0x565fd6;}export function getItemIcon(_0x4dcac9){const _0x337300=AruCube_Death_Aruban_0x137e,_0x16e42f=_0x4dcac9[_0x337300(0xb1)],_0x3d05f6=item_texture_list[_0x337300(0xc8)][_0x16e42f];return _0x3d05f6||item_texture_list[_0x337300(0x92)]['no_icon'];}export function getComponent(_0x550f00,_0x36c7b6){return _0x550f00['getComponent'](_0x36c7b6);}